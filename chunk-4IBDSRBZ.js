import{a as M}from"./chunk-AJZFBFWK.js";import{a as I,b as P,c as z,d as j,e as d,f as D,g as G,h as A,i as R,j as O}from"./chunk-PR3XMOSA.js";import{i as E,j as F,k as T,l as V,n as N}from"./chunk-QK34VMVZ.js";import{$a as t,Ha as v,Ka as p,Wa as _,Ya as s,Z as w,_a as i,ab as f,bb as y,cb as b,db as m,ha as g,ia as x,jb as h,kb as c,mb as C,ob as S,sb as k}from"./chunk-744MJTXJ.js";function J(e,l){if(e&1&&(i(0,"div",28),f(1,"img",29),t()),e&2){let o=m(3);p(),s("src",o.imageSrc,v)}}function L(e,l){if(e&1){let o=y();i(0,"div",10)(1,"div",11)(2,"div",12),f(3,"input",13),t(),i(4,"div",12),f(5,"input",14),t(),i(6,"div",12),f(7,"input",15),t(),i(8,"div",12),f(9,"input",16),t(),i(10,"div",12),f(11,"input",17),t()(),i(12,"div",18)(13,"div",19)(14,"label",20)(15,"div",21)(16,"p",22)(17,"span",23),c(18,"Foto del negozio "),t()(),f(19,"img",24),i(20,"p",22)(21,"span",23),c(22,"Clicca per caricare "),t(),c(23," o trascina sopra "),t(),i(24,"p",25),c(25,"PNG, JPEG"),t()(),i(26,"input",26),b("change",function(n){g(o);let a=m(2);return x(a.onPhotoPicked(n))}),t()()(),_(27,J,2,1,"div",27),t()()}if(e&2){let o=m(2);p(27),s("ngIf",o.imageSrc)}}function U(e,l){if(e&1&&(i(0,"div"),c(1),t()),e&2){let o=l.$implicit,r=m(3);p(),C(" ",r.getValue(o)," ")}}function B(e,l){if(e&1){let o=y();i(0,"div",30)(1,"div",31)(2,"h4"),c(3,"Caricati"),t(),_(4,U,2,1,"div",32),t(),i(5,"div",33)(6,"div",19)(7,"label",20)(8,"div",21)(9,"p",22)(10,"span",23),c(11,"Carica documenti "),t()(),f(12,"img",24),i(13,"p",22)(14,"span",23),c(15,"Clicca per caricare "),t(),c(16," o trascina sopra "),t(),i(17,"p",25),c(18,"PDF"),t()(),i(19,"input",34),b("change",function(n){g(o);let a=m(2);return x(a.onDocsPicked(n))}),t()()()()()}if(e&2){let o=m(2);p(4),s("ngForOf",o.form.controls.docs.controls),p(15),s("multiple",!0)}}function $(e,l){if(e&1){let o=y();i(0,"button",35),b("click",function(){g(o);let n=m(2);return x(n.goNext())}),c(1," Avanti "),t()}}function q(e,l){if(e&1){let o=y();i(0,"button",36),b("click",function(){g(o);let n=m(2);return x(n.addStore())}),c(1," Registra "),t()}}function H(e,l){if(e&1){let o=y();i(0,"form",3),b("submit",function(){g(o);let n=m();return x(n.addStore())}),i(1,"div",4),_(2,L,28,1,"div",5)(3,B,20,2,"div",6),t(),i(4,"div",7),_(5,$,2,0,"button",8)(6,q,2,0,"button",9),t()()}if(e&2){let o=m();s("formGroup",o.form),p(),s("ngSwitch",o.step),p(),s("ngSwitchCase",1),p(),s("ngSwitchCase",2),p(2),s("ngIf",o.step==1),p(),s("ngIf",o.step==2)}}function K(e,l){e&1&&(i(0,"div",37)(1,"h1",38),c(2,"Grazie di aver completato la procedura di registrazione "),t(),i(3,"h1",39),c(4,"Dopo una verifica svolta dei nostri operatori ti invieremo una mail di conferma "),t()())}var ne=(()=>{let l=class l{constructor(){this.createSuccess=!1,this.step=2,this.subTitleCreation="Completa il form per registrare un nuovo negozio",this.subTitleCreated="Operazione completata",this.imageSrc=null,this.form=new j({"company-name":new d(""),vat:new d(""),address:new d(""),province:new d(""),cap:new d(""),photo:new d(null),docs:new R([])})}get subTitle(){return this.createSuccess?this.subTitleCreated:this.subTitleCreation}goNext(){this.step=Q(this.step)}goBack(){this.step=W(this.step)}onPhotoPicked(r){let n=r.target.files;if(!n||n.length===0)return;let a=n[0];if(a){this.form.patchValue({photo:{name:a.name,file:a}});let u=new FileReader;u.onload=X=>this.imageSrc=u.result,u.readAsDataURL(a)}}onDocsPicked(r){console.log("onDocksPicked",r);let n=r.target.files;if(!n||n.length===0)return;let a=n[0];a&&this.form.get("docs").push({name:a.name,file:a})}getValue(r){return console.log(JSON.stringify(r)),r.name}addStore(){this.step==2&&(this.createSuccess=!0)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=w({type:l,selectors:[["app-factory-create-store"]],standalone:!0,features:[S],decls:4,vars:3,consts:[["createSuccessTemplate",""],["title","Nuovo Negozio",3,"subTitle"],["class","flex flex-col gap-3",3,"formGroup","submit",4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3",3,"submit","formGroup"],[1,"w-full",3,"ngSwitch"],["class","flex flex-col lg:flex-row gap-2",4,"ngSwitchCase"],["class","w-full flex flex-col lg:flex-row gap-2",4,"ngSwitchCase"],[1,"mt-10","w-full","flex","justify-center"],["type","button","class","flex justify-center rounded-full bg-pocket_yellow px-20 py-5 text-[32px] font-normal leading-8 text-black shadow-sm hover:bg-pocket_yellow_p-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pocket_yellow_p-600",3,"click",4,"ngIf"],["type","submit","class","flex justify-center rounded-full bg-pocket_yellow px-20 py-5 text-[32px] font-normal leading-8 text-black shadow-sm hover:bg-pocket_yellow_p-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pocket_yellow_p-600",3,"click",4,"ngIf"],[1,"flex","flex-col","lg:flex-row","gap-2"],[1,"flex","flex-col","gap-2"],[1,"px-10"],["type","text","name","company-name","id","company-name","formControlName","company-name","placeholder","Ragione Sociale",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","vat","id","vat","formControlName","vat","placeholder","Partita IVA",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","address","id","address","formControlName","address","placeholder","Indirizzo",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","province","id","province","formControlName","province","placeholder","Provincia",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","cap","id","cap","formControlName","cap","placeholder","CAP",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],[1,"flex","flex-col","gap-10","mt-20","lg:mt-0"],[1,"flex","items-center","justify-center","w-full"],["for","dropzone-file",1,"flex","flex-col","items-center","justify-center","w-full","h-40","md:w-80","border-2","border-gray-300","border-line","rounded-lg","cursor-pointer","bg-gray-300","dark:hover:bg-bray-800","dark:bg-gray-700","hover:bg-gray-100","dark:border-gray-600","dark:hover:border-gray-500","dark:hover:bg-gray-600"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],[1,"mb-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold"],["src","/assets/img/folder-icon.png","alt","",1,"w-8","h-8","mb-4","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["id","dropzone-file","type","file",1,"hidden",3,"change"],["class","p-2 flex justify-center overflow-hidden rounded-xl bg-gray-200",4,"ngIf"],[1,"p-2","flex","justify-center","overflow-hidden","rounded-xl","bg-gray-200"],["alt","",1,"w-72","object-cover",3,"src"],[1,"w-full","flex","flex-col","lg:flex-row","gap-2"],[1,"w-1/2","flex","flex-col","items-center","gap-2"],[4,"ngFor","ngForOf"],[1,"w-1/2","flex","mt-20","lg:mt-0"],["id","dropzone-file","type","file",1,"hidden",3,"change","multiple"],["type","button",1,"flex","justify-center","rounded-full","bg-pocket_yellow","px-20","py-5","text-[32px]","font-normal","leading-8","text-black","shadow-sm","hover:bg-pocket_yellow_p-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-pocket_yellow_p-600",3,"click"],["type","submit",1,"flex","justify-center","rounded-full","bg-pocket_yellow","px-20","py-5","text-[32px]","font-normal","leading-8","text-black","shadow-sm","hover:bg-pocket_yellow_p-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-pocket_yellow_p-600",3,"click"],[1,"py-32","px-28","flex","flex-col","items-center","gap-10"],[1,"text-[48px]","font-bold","text-center","text-black"],[1,"text-[36px]","font-semibold","text-center","text-black"]],template:function(n,a){if(n&1&&(i(0,"app-factory-page-layout",1),_(1,H,7,6,"form",2)(2,K,5,0,"ng-template",null,0,k),t()),n&2){let u=h(3);s("subTitle",a.subTitle),p(),s("ngIf",!a.createSuccess)("ngIfElse",u)}},dependencies:[M,O,D,I,P,z,G,A,N,E,F,T,V]});let e=l;return e})();function Q(e){switch(e){case 1:return 2;case 2:return 2}}function W(e){switch(e){case 1:return 1;case 2:return 1}}export{ne as FactoryCreateStoreComponent};
