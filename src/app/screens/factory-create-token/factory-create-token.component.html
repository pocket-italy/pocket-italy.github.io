<app-factory-page-layout title="Crea Token"
                         subTitle="Qui puoi inserire i dati del tuo prodotto e creare un token associato ad esso">
    <div [ngSwitch]="status">
        <div *ngSwitchCase="'form'">
            <form class="flex flex-col gap-3"
                  [formGroup]="form"
                  (submit)="createToken()">
                <div class="w-full flex flex-col lg:flex-row gap-2">
                    <div class="flex flex-col gap-2">
                        <div class="mx-5 md:ml-0 md:mr-5">
                            <input type="text"
                                   name="productName"
                                   id="productName"
                                   formControlName="productName"
                                   class="block w-full rounded-full border-0
                                     bg-pocket_yellow
                                     px-4 py-1.5 text-gray-800 shadow-sm ring-1 ring-inset ring-pocket_yellow_p-300 placeholder:text-gray-7gray00 focus:ring-2 focus:ring-inset focus:ring-pocket_yellow_p-800 text-4xl sm:leading-6"
                                   placeholder="Nome prodotto">
                        </div>
                        <div class="mx-5 md:ml-0 md:mr-5">
                            <input type="text"
                                   name="category"
                                   id="category"
                                   formControlName="category"
                                   class="block w-full rounded-full border-0
                                     bg-pocket_yellow
                                     px-4 py-1.5 text-gray-800 shadow-sm ring-1 ring-inset ring-pocket_yellow_p-300 placeholder:text-gray-7gray00 focus:ring-2 focus:ring-inset focus:ring-pocket_yellow_p-800 text-4xl sm:leading-6"
                                   placeholder="Categoria">
                        </div>
                        <div class="mx-5 md:ml-0 md:mr-5">
                            <input type="text"
                                   name="description"
                                   id="description"
                                   formControlName="description"
                                   class="block w-full rounded-full border-0
                                     bg-pocket_yellow
                                     px-4 py-1.5 text-gray-800 shadow-sm ring-1 ring-inset ring-pocket_yellow_p-300 placeholder:text-gray-7gray00 focus:ring-2 focus:ring-inset focus:ring-pocket_yellow_p-800 text-4xl sm:leading-6"
                                   placeholder="Descrizione">
                        </div>
                        <div class="mx-5 md:ml-0 md:mr-5">
                            <input type="text"
                                   name="serial"
                                   id="serial"
                                   formControlName="serial"
                                   class="block w-full rounded-full border-0
                                     bg-pocket_yellow
                                     px-4 py-1.5 text-gray-800 shadow-sm ring-1 ring-inset ring-pocket_yellow_p-300 placeholder:text-gray-7gray00 focus:ring-2 focus:ring-inset focus:ring-pocket_yellow_p-800 text-4xl sm:leading-6"
                                   placeholder="Codice Seriale">
                        </div>
                    </div>
                    <div class="flex flex-col gap-10 mt-20 lg:mt-0">
                        <div class="flex items-center justify-center w-full">
                            <label for="dropzone-file"
                                   class="flex flex-col items-center justify-center w-full h-40 md:w-80 border-2 border-gray-300 border-line rounded-lg cursor-pointer bg-gray-300 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                    <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
                                        <span class="font-semibold">Foto del prodotto
                                        </span>
                                    </p>
                                    <img class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"
                                         src="/assets/img/folder-icon.png"
                                         alt="">

                                    <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
                                        <span class="font-semibold">Clicca per
                                            caricare
                                        </span> o trascina sopra
                                    </p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400">PNG, JPEG</p>
                                </div>
                                <input id="dropzone-file"
                                       type="file"
                                       (change)="onPhotoPicked($event)"
                                       class="hidden" />
                            </label>
                        </div>
                        <div *ngIf="imageSrc"
                             class="p-2 flex justify-center overflow-hidden rounded-xl bg-gray-200">
                            <img class="w-72 object-cover"
                                 [src]="imageSrc "
                                 alt="">
                        </div>
                    </div>
                </div>
                <div class="mt-10 w-full flex justify-center">
                    <button type="submit"
                            class="flex justify-center rounded-full bg-pocket_yellow px-20 py-5 text-[32px] font-normal leading-8 text-black shadow-sm hover:bg-pocket_yellow_p-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pocket_yellow_p-600">
                        Genera Token
                    </button>
                </div>

            </form>
        </div>
        <div *ngSwitchCase="'detail'"
             class="flex flex-col gap-3">
            <div class="w-full flex flex-col lg:flex-row gap-2">
                <div class="flex flex-col gap-2">
                    <div class="mx-5 md:ml-0 md:mr-5">
                        <p class="flex flex-col gap-4
                                w-full rounded-xl border-0
                                 px-4 py-2 text-gray-800 shadow-sm ring-1  text-2xl sm:leading-6">
                            <label class="font-bold">
                                Nome Prodotto
                            </label>
                            <span>
                                {{itemDetail.productName}}
                            </span>
                        </p>
                    </div>
                    <div class="mx-5 md:ml-0 md:mr-5">
                        <p class="flex flex-col gap-4
                                w-full rounded-xl border-0
                                 px-4 py-2 text-gray-800 shadow-sm ring-1  text-2xl sm:leading-6">
                            <label class="font-bold">
                                Categoria
                            </label>
                            <span>
                                {{itemDetail.category}}
                            </span>
                        </p>
                    </div>
                    <div class="mx-5 md:ml-0 md:mr-5">
                        <p class="flex flex-col gap-4
                                w-full rounded-xl border-0
                                 px-4 py-2 text-gray-800 shadow-sm ring-1  text-2xl sm:leading-6">
                            <label class="font-bold">
                                Descrizione
                            </label>
                            <span>
                                {{itemDetail.description}}
                            </span>
                        </p>
                    </div>
                    <div class="mx-5 md:ml-0 md:mr-5">
                        <p class="flex flex-col gap-4
                                w-full rounded-xl border-0
                                 px-4 py-2 text-gray-800 shadow-sm ring-1  text-2xl sm:leading-6">
                            <label class="font-bold">
                                Codice Seriale
                            </label>
                            <span>
                                {{itemDetail.serial}}
                            </span>
                        </p>
                    </div>
                </div>
                <div class="flex flex-col gap-10 mt-20 lg:mt-0">
                    <div *ngIf="itemDetail.photo"
                    class="p-2 flex justify-center overflow-hidden rounded-xl bg-gray-200">
                   <img class="w-72 object-cover"
                        [src]="itemDetail.photo "
                        alt="">
               </div>
                </div>
            </div>
            <div class="mt-10 w-full flex justify-center">
                <button type="button"
                        (click)="confirm()"
                        class="flex justify-center rounded-full bg-pocket_yellow px-20 py-5 text-[32px] font-normal leading-8 text-black shadow-sm hover:bg-pocket_yellow_p-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pocket_yellow_p-600">
                    Conferma
                </button>
            </div>
        </div>
        <div *ngSwitchCase="'success'"
             class="mt-10 flex flex-col items-center justify-center gap-2">
            <img class="w-40 md:w-80 p-5 "
                 src="assets/img/check-ok.png" />
            <h1 class="text-[32px]">Token creato correttamente</h1>
        </div>
        <div *ngSwitchCase="'fail'"
             class="mt-10 flex flex-col items-center justify-center gap-2">
            <img class="w-40 md:w-80 p-5 "
                 src="assets/img/check-fail.png" />
            <h1 class="text-[32px]">Token non creato</h1>
        </div>
    </div>
</app-factory-page-layout>