import{a as G,b as R,c as O,d as M,e as f,f as U,g as J,h as L,i as B,j as $}from"./chunk-YIRWMAFP.js";import{a as A}from"./chunk-EDWNM5CY.js";import"./chunk-VWLSPXFT.js";import{a as w}from"./chunk-WODP3O2L.js";import{a as D}from"./chunk-3BCLD6MB.js";import"./chunk-VE3FEGGN.js";import"./chunk-CDY7ZTGM.js";import{e as j,g as z}from"./chunk-SC6RD57Z.js";import{$a as v,Ga as S,Ib as T,Ja as p,Jb as N,Ka as h,Kb as V,Lb as I,Nb as P,Ua as y,Wa as s,Y as b,Ya as i,Za as e,_a as m,ab as _,bb as d,ga as u,ha as x,hb as C,ib as a,kb as k,mb as E,rb as F}from"./chunk-TCK2NVJ2.js";function q(o,c){if(o&1&&(i(0,"div",28),m(1,"img",29),e()),o&2){let l=d(3);p(),s("src",l.imageSrc,S)}}function H(o,c){if(o&1){let l=v();i(0,"div",9)(1,"div",10)(2,"div",11),m(3,"input",12),e(),i(4,"div",11),m(5,"input",13),e(),i(6,"div",11),m(7,"input",14),e(),i(8,"div",11),m(9,"input",15),e(),i(10,"div",11),m(11,"input",16),e(),i(12,"div",11),m(13,"input",17),e()(),i(14,"div",18)(15,"div",19)(16,"label",20)(17,"div",21)(18,"p",22)(19,"span",23),a(20,"Foto del negozio "),e()(),m(21,"img",24),i(22,"p",22)(23,"span",23),a(24,"Clicca per caricare "),e(),a(25," o trascina sopra "),e(),i(26,"p",25),a(27,"PNG, JPEG"),e()(),i(28,"input",26),_("change",function(t){u(l);let n=d(2);return x(n.onPhotoPicked(t))}),e()()(),y(29,q,2,1,"div",27),e()()}if(o&2){let l=d(2);p(29),s("ngIf",l.imageSrc)}}function K(o,c){if(o&1&&(i(0,"div"),a(1),e()),o&2){let l=c.$implicit,r=d(3);p(),k(" ",r.getValue(l)," ")}}function Q(o,c){if(o&1){let l=v();i(0,"div",30)(1,"div",31)(2,"h4"),a(3,"Caricati"),e(),y(4,K,2,1,"div",32),e(),i(5,"div",33)(6,"div",19)(7,"label",20)(8,"div",21)(9,"p",22)(10,"span",23),a(11,"Carica documenti "),e()(),m(12,"img",24),i(13,"p",22)(14,"span",23),a(15,"Clicca per caricare "),e(),a(16," o trascina sopra "),e(),i(17,"p",25),a(18,"PDF"),e()(),i(19,"input",34),_("change",function(t){u(l);let n=d(2);return x(n.onDocsPicked(t))}),e()()()()()}if(o&2){let l=d(2);p(4),s("ngForOf",l.form.controls.docs.controls),p(15),s("multiple",!0)}}function W(o,c){if(o&1){let l=v();i(0,"form",3),_("submit",function(){u(l);let t=d();return x(t.updateStore())}),i(1,"div",4),y(2,H,30,1,"div",5)(3,Q,20,2,"div",6),e(),i(4,"div",7)(5,"button",8),_("click",function(){u(l);let t=d();return x(t.updateStore())}),a(6," Aggiorna "),e()()()}if(o&2){let l=d();s("formGroup",l.form),p(),s("ngSwitch",l.step),p(),s("ngSwitchCase",1),p(),s("ngSwitchCase",2)}}function X(o,c){o&1&&(i(0,"div",35)(1,"h1",36),a(2,"Grazie di aver completato la procedura di registrazione "),e(),i(3,"h1",37),a(4,"Dopo una verifica svolta dei nostri operatori ti invieremo una mail di conferma "),e()())}var ce=(()=>{let c=class c{get subTitle(){return this.createSuccess?this.subTitleCreated:this.subTitleCreation}constructor(r,t,n){this.router=r,this.route=t,this.service=n,this.store=null,this.form=new M({"company-name":new f(""),vat:new f(""),address:new f(""),city:new f(""),province:new f(""),cap:new f(""),photo:new f(null),docs:new B([])}),this.createSuccess=!1,this.step=1,this.subTitleCreation="Aggiorna i dati sulla tua attivit\xE0",this.subTitleCreated="Operazione completata",this.imageSrc=null}ngOnInit(){this.route.params.subscribe(r=>{this.id=parseInt(r.id),this.id&&this.service.getStores().subscribe(t=>{this.store=t.find(n=>n.id===this.id),this.store&&this.form.patchValue({"company-name":this.store.name,vat:this.store.vat,address:this.store.address,province:this.store.province,city:this.store.city,cap:this.store.cap,photo:{id:1,file:this.store.img,name:this.store.imgName}})})})}goNext(){this.step=w.next(this.step)}goBack(){this.step=w.back(this.step)}onPhotoPicked(r){let t=r.target.files;if(!t||t.length===0)return;let n=t[0];if(n){this.form.patchValue({photo:{name:n.name,file:n}});let g=new FileReader;g.onload=Y=>this.imageSrc=g.result,g.readAsDataURL(n)}}onDocsPicked(r){console.log("onDocksPicked",r);let t=r.target.files;if(!t||t.length===0)return;let n=t[0];n&&this.form.get("docs").push({name:n.name,file:n})}getValue(r){return console.log(JSON.stringify(r)),r.name}updateStore(){this.step==2&&(this.createSuccess=!0)}};c.\u0275fac=function(t){return new(t||c)(h(z),h(j),h(D))},c.\u0275cmp=b({type:c,selectors:[["app-factory-edit-store"]],standalone:!0,features:[E],decls:4,vars:3,consts:[["createSuccessTemplate",""],["title","Aggiorna Negozio",3,"subTitle"],["class","flex flex-col gap-3",3,"formGroup","submit",4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3",3,"submit","formGroup"],[1,"w-full",3,"ngSwitch"],["class","flex flex-col lg:flex-row gap-2",4,"ngSwitchCase"],["class","w-full flex flex-col lg:flex-row gap-2",4,"ngSwitchCase"],[1,"mt-10","w-full","flex","justify-center"],["type","submit",1,"flex","justify-center","rounded-full","bg-pocket_yellow","px-20","py-5","text-[32px]","font-normal","leading-8","text-black","shadow-sm","hover:bg-pocket_yellow_p-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-pocket_yellow_p-600",3,"click"],[1,"flex","flex-col","lg:flex-row","gap-2"],[1,"flex","flex-col","gap-2"],[1,"px-10"],["type","text","name","company-name","id","company-name","formControlName","company-name","placeholder","Ragione Sociale",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","vat","id","vat","formControlName","vat","placeholder","Partita IVA",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","address","id","address","formControlName","address","placeholder","Indirizzo",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","city","id","city","formControlName","city","placeholder","Citt\xE0",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","province","id","province","formControlName","province","placeholder","Provincia",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],["type","text","name","cap","id","cap","formControlName","cap","placeholder","CAP",1,"block","w-full","rounded-full","border-0","bg-pocket_yellow","px-4","py-1.5","text-gray-800","shadow-sm","ring-1","ring-inset","ring-pocket_yellow_p-300","placeholder:text-gray-7gray00","focus:ring-2","focus:ring-inset","focus:ring-pocket_yellow_p-800","text-4xl","sm:leading-6"],[1,"flex","flex-col","gap-10","mt-20","lg:mt-0"],[1,"flex","items-center","justify-center","w-full"],["for","dropzone-file",1,"flex","flex-col","items-center","justify-center","w-full","h-40","md:w-80","border-2","border-gray-300","border-line","rounded-lg","cursor-pointer","bg-gray-300","dark:hover:bg-bray-800","dark:bg-gray-700","hover:bg-gray-100","dark:border-gray-600","dark:hover:border-gray-500","dark:hover:bg-gray-600"],[1,"flex","flex-col","items-center","justify-center","pt-5","pb-6"],[1,"mb-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold"],["src","/assets/img/folder-icon.png","alt","",1,"w-8","h-8","mb-4","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["id","dropzone-file","type","file",1,"hidden",3,"change"],["class","p-2 flex justify-center overflow-hidden rounded-xl bg-gray-200",4,"ngIf"],[1,"p-2","flex","justify-center","overflow-hidden","rounded-xl","bg-gray-200"],["alt","",1,"w-72","object-cover",3,"src"],[1,"w-full","flex","flex-col","lg:flex-row","gap-2"],[1,"w-1/2","flex","flex-col","items-center","gap-2"],[4,"ngFor","ngForOf"],[1,"w-1/2","flex","mt-20","lg:mt-0"],["id","dropzone-file","type","file",1,"hidden",3,"change","multiple"],[1,"py-32","px-28","flex","flex-col","items-center","gap-10"],[1,"text-[48px]","font-bold","text-center","text-black"],[1,"text-[36px]","font-semibold","text-center","text-black"]],template:function(t,n){if(t&1&&(i(0,"app-factory-page-layout",1),y(1,W,7,4,"form",2)(2,X,5,0,"ng-template",null,0,F),e()),t&2){let g=C(3);s("subTitle",n.subTitle),p(),s("ngIf",!n.createSuccess)("ngIfElse",g)}},dependencies:[A,$,U,G,R,O,J,L,P,T,N,V,I]});let o=c;return o})();export{ce as FactoryEditStoreComponent};
