import{c as I}from"./chunk-3BCLD6MB.js";import{c as z,d as b,e as M}from"./chunk-WODP3O2L.js";import"./chunk-VG5VR7ER.js";import{e as E}from"./chunk-SC6RD57Z.js";import{Ja as o,Jb as S,Ka as c,Ua as x,Wa as f,Y as v,Ya as t,Za as i,_a as g,bb as h,d as k,ib as n,kb as r,mb as u}from"./chunk-TCK2NVJ2.js";var s=k(z());function y(d,m){if(d&1&&(t(0,"div",6)(1,"h2",7),n(2),i(),t(3,"div",8)(4,"h3",9),n(5,"Dati geospaziali"),i(),t(6,"span"),n(7),i(),t(8,"span"),n(9),i(),t(10,"span"),n(11),i()(),t(12,"div",8)(13,"h3",9),n(14,"Dati generali"),i(),t(15,"span"),n(16),i(),t(17,"span"),n(18),i(),t(19,"span"),n(20),i()(),t(21,"div",8)(22,"h3",9),n(23,"Dati aggregati"),i(),t(24,"span"),n(25),i(),t(26,"span"),n(27),i()()()),d&2){let l=h();o(2),r("Segnalazione n. ",l.item.reportNumber,""),o(5),r("Lat: ",l.item.lat,""),o(2),r("Log: ",l.item.long,""),o(2),r("Comune: ",l.item.city,""),o(5),r("Esito: ",l.item.outcome==="positive"?"probabile contraffatto":"probabile originale",""),o(2),r("Grado contraffazione: ",l.item.levelFake,""),o(2),r("Data report: ",l.item.date,""),o(5),r("Segnalazioni positive vicine: ",l.item.positiveCounting,""),o(2),r("Segnalazioni negative vicine: ",l.item.negativeCounting,"")}}var F=(()=>{let m=class m{constructor(a,e){this.route=a,this.service=e,this.markers=[]}ngOnInit(){this.route.params.subscribe(a=>{this.id=a.id,this.id&&this.service.getMapReportById(this.id).subscribe(e=>{let p=[];if(e){this.item=e,console.log(e.lat,e.long);let L=s.marker([e.lat,e.long],{icon:e.outcome==="positive"?M:b});p.push(L),this.markers=p,this.initializeMap(),this.addMarkers(),this.centerMap()}})})}initializeMap(){let a="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";this.map=s.map("map-detail",{zoom:6}),s.tileLayer(a).addTo(this.map)}addMarkers(){this.markers.forEach(a=>a.addTo(this.map))}centerMap(){let a=s.latLngBounds(this.markers.map(e=>e.getLatLng()));this.map.fitBounds(a),this.map.setZoom(14)}};m.\u0275fac=function(e){return new(e||m)(c(E),c(I))},m.\u0275cmp=v({type:m,selectors:[["app-zecca-map-detail"]],standalone:!0,features:[u],decls:6,vars:1,consts:[[1,"flex"],[1,"w-1/2"],[1,"map-container"],["id","map-detail"],[1,"flex-1"],["class","flex ml-10 flex-col gap-3",4,"ngIf"],[1,"flex","ml-10","flex-col","gap-3"],[1,"text-2xl","font-bold"],[1,"flex","flex-col","gap-1"],[1,"text-xl","font-bold"]],template:function(e,p){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),g(3,"div",3),i()(),t(4,"div",4),x(5,y,28,9,"div",5),i()()),e&2&&(o(5),f("ngIf",p.item))},dependencies:[S],styles:["#map-detail[_ngcontent-%COMP%]{height:100vh}.map-container[_ngcontent-%COMP%]{border:1px solid black}"]});let d=m;return d})();export{F as ZeccaMapDetailComponent};
